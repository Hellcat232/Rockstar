{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shopping-list-functions.js","../src/js/shopping-list-render.js","../src/js/shopping-list.js"],"sourcesContent":["export let shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n\nexport function shoppingListhasBook(id){\n    return !!shoppingList.find(book => book._id === id)\n }\n\nexport function addToShoppingList(book) {\n    if (!book._id || !book.book_image || !book.title || !book.list_name || !book.author || !book.buy_links){\n      throw new Error('Book _id, cover, title, category, author, buyLinks are required');\n    }\n\n    if (!shoppingListhasBook(book._id)) {\n      shoppingList.push(book); \n      localStorage.setItem('shoppingList', JSON.stringify(shoppingList));    \n    } \n}\n\nwindow.atsl = addToShoppingList\nwindow.sl = shoppingList\n\nexport function removeFromShoppingList(id) {\n    shoppingList = shoppingList.filter(book => book._id !== id);\n    localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n}\n\n// console.log(shoppingList);\n// let book = {_id: '1', book_image: 'blue', title: 'Racoons', list_name: 'Non-fiction', description: 'Book for kids', author: 'BBC', buy_links: 'Amazon',};\n// addToShoppingList(book);\n// console.log(shoppingList);\n// removeFromShoppingList('1');\n// console.log(shoppingList);","import { shoppingList } from \"./shopping-list-functions.js\";\nexport const shoppingListElement = document.querySelector('.shopping-list-is-filled');\n\nexport function renderShoppingListBook(shoppingList) {\n        const booksToAdd = shoppingList.map((book) => {\n        return `<li class=\"shopping-list-book-item\">\n                        <div class=\"shopping-list-card\">\n            \n                                <img class=\"shopping-list-book-cover\" src=\"${book.book_image}\" alt=\"cover\">   \n                        \n                                <div class=\"shopping-list-card-wrap\">\n                                    <div class=\"shopping-list-card-top-line\">\n                                        <div class=\"title-category-wrap\">\n                                            <h2 class=\"shopping-list-book-title\">${book.title}</h2>\n                                            <h3 class=\"shopping-list-book-category\">${book.list_name}</h3>\n                                        </div>\n\n                                        <button data-id=\"${book._id}\" type=\"button\" class=\"shopping-list-item-remove-button\">\n                                        <svg width=\"16\" height=\"16\" class=\"icon-bin\" alt=\"bin\">\n                                            <use href=\"./images/icons.svg#icon-bin\"></use>\n                                        </svg>\n                                    </button>\n                                    </div>\n        \n                                    <p class=\"shopping-list-book-description\">${book.description}</p>\n        \n                                    <div class=\"shopping-list-card-bottom-line\">\n                                        <p class=\"shopping-list-book-author\">${book.author}</p>\n                                        <ul class=\"shopping-list-buy-links\">\n                                            <li class=\"shopping-list-buy-link-item\">\n                                                <a rel=\"noreferrer noopener nofollow\" class=\"shopping-list-buy-link\" href=\"${book.buy_links[0].url}\" target=\"_blank\">\n                                                <svg width=\"32\" height=\"11\" class=\"shopping-list-buy-link-amazon\" alt=\"logo-amazon\">\n                                            <use href=\"./images/icons.svg#icon-amazon-1\"></use>\n                                        </svg>   \n                                                </a>\n                                            </li>\n                                            <li class=\"shopping-list-buy-link-item\">\n                                                <a rel=\"noreferrer noopener nofollow\" class=\"shopping-list-buy-link\" href=\"${book.buy_links[1].url} \" target=\"_blank\">\n                                                <svg width=\"16\" height=\"16\" class=\"shopping-list-buy-link-applebooks\" alt=\"logo-apple-books\">\n                                            <use href=\"./images/icons.svg#icon-apple-ibooks\"></use>\n                                        </svg>    \n                                                </a>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                    \n                                </div>\n                            </div>\n                            </li>`}).join(\"\");\n        return booksToAdd;\n        };      \n    \n\nexport function renderEmptyShoppingList() {\n    let code = ` <div class=\"shopping-list-is-empty\">\n    <p class=\"shopping-list-text\">This page is empty, add some books and proceed to order.</p>\n    <picture>\n        <source srcset=\"\n                      ./images/Book-picture-tab-min.png    1x,\n                      ./images/Book-picture-tab-2x-min.png 2x\" media=\"(min-width:768px)\" />\n        <source srcset=\"\n                      ./images/Book-picture-mob-min.png    1x,\n                      ./images/Book-picture-mob-2x-min.png 2x\" media=\"(min-width:320px)\" />\n        <img class=\"shopping-list-image\" src=\"./images/Book-picture-tab-min.png\" alt=\"Stack of books\">\n    </picture>\n</div>`;\n\nshoppingListElement.innerHTML = code;   \n}\n\nexport function renderFilledShoppingList() {\n    return shoppingListElement.innerHTML = renderShoppingListBook(shoppingList);   \n}\n\nexport function renderShoppingList() {\n    if (shoppingList.length !== 0) {\n        renderFilledShoppingList();\n    }else{\n        renderEmptyShoppingList();\n    }\n}\n\n\n","// import Pagination from 'tui-pagination';\n// import 'tui-pagination/dist/tui-pagination.css';\nimport { shoppingList, removeFromShoppingList } from \"./shopping-list-functions.js\";\nimport { renderShoppingList } from \"./shopping-list-render.js\";\n// import '../main.js'\n\nrenderShoppingList();\n\n// const paginationsOptions = {\n//     totalItems: 20,\n//     itemsPerPage: 3,\n//     visiblePages: 3,\n//     page: 1,\n//     centerAlign: false,\n//     firstItemClassName: 'tui-first-child',\n//     lastItemClassName: 'tui-last-child',\n//     template: {\n//       page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n//       currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n//       moveButton:\n//         '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n//           '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n//         '</a>',\n//       disabledMoveButton:\n//         '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n//           '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n//         '</span>',\n//       moreButton:\n//         '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n//           '<span class=\"tui-ico-ellip\">...</span>' +\n//         '</a>'\n//     }\n//   };\n  \n//   const pagination = new Pagination('pagination', options);\n\n//   if (shoppingList.length > 3) {\n//     pagination.on('afterMove', function(eventData) {\n//         var currentPage = eventData.page;\n//         console.log(currentPage);\n//       });\n//       pagination.on('beforeMove', function(eventData) {\n//         var currentPage = eventData.page;\n//         if (currentPage === 20) {\n//           return false;\n//           // return true;\n//         }\n//       });\n//   }\n\n  document.querySelectorAll('.shopping-list-item-remove-button').forEach((button) => {\n    button.addEventListener(\"click\", (e) => {\n        console.log(button.dataset.id)\n        removeFromShoppingList(button.dataset.id);\n        button.closest('li.shopping-list-book-item').remove();\n       if(shoppingList.length === 0) {\n        renderShoppingList();\n       } \n    });\n  });"],"names":["shoppingList","shoppingListhasBook","id","book","addToShoppingList","removeFromShoppingList","shoppingListElement","renderShoppingListBook","renderEmptyShoppingList","code","renderFilledShoppingList","renderShoppingList","button"],"mappings":"oDAAO,IAAIA,EAAe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,GAEvE,SAASC,EAAoBC,EAAG,CACnC,MAAO,CAAC,CAACF,EAAa,KAAKG,GAAQA,EAAK,MAAQD,CAAE,CACpD,CAEK,SAASE,EAAkBD,EAAM,CACpC,GAAI,CAACA,EAAK,KAAO,CAACA,EAAK,YAAc,CAACA,EAAK,OAAS,CAACA,EAAK,WAAa,CAACA,EAAK,QAAU,CAACA,EAAK,UAC3F,MAAM,IAAI,MAAM,iEAAiE,EAG9EF,EAAoBE,EAAK,GAAG,IAC/BH,EAAa,KAAKG,CAAI,EACtB,aAAa,QAAQ,eAAgB,KAAK,UAAUH,CAAY,CAAC,EAEvE,CAEA,OAAO,KAAOI,EACd,OAAO,GAAKJ,EAEL,SAASK,EAAuBH,EAAI,CACvCF,EAAeA,EAAa,OAAOG,GAAQA,EAAK,MAAQD,CAAE,EAC1D,aAAa,QAAQ,eAAgB,KAAK,UAAUF,CAAY,CAAC,CACrE,CCtBO,MAAMM,EAAsB,SAAS,cAAc,0BAA0B,EAE7E,SAASC,EAAuBP,EAAc,CA8C7C,OA7CmBA,EAAa,IAAKG,GAC9B;AAAA;AAAA;AAAA,6EAG8DA,EAAK,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,mFAKTA,EAAK,KAAK;AAAA,sFACPA,EAAK,SAAS;AAAA;AAAA;AAAA,2DAGzCA,EAAK,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFAOaA,EAAK,WAAW;AAAA;AAAA;AAAA,+EAGjBA,EAAK,MAAM;AAAA;AAAA;AAAA,6HAGmCA,EAAK,UAAU,CAAC,EAAE,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6HAOrBA,EAAK,UAAU,CAAC,EAAE,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAW/G,EAAE,KAAK,EAAE,CAG5C,CAEO,SAASK,GAA0B,CACtC,IAAIC,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAafH,EAAoB,UAAYG,CAChC,CAEO,SAASC,GAA2B,CACvC,OAAOJ,EAAoB,UAAYC,EAAuBP,CAAY,CAC9E,CAEO,SAASW,GAAqB,CAC7BX,EAAa,SAAW,EACxBU,IAEAF,GAER,CC1EAG,IA4CE,SAAS,iBAAiB,mCAAmC,EAAE,QAASC,GAAW,CACjFA,EAAO,iBAAiB,QAAU,GAAM,CACpC,QAAQ,IAAIA,EAAO,QAAQ,EAAE,EAC7BP,EAAuBO,EAAO,QAAQ,EAAE,EACxCA,EAAO,QAAQ,4BAA4B,EAAE,OAAM,EACjDZ,EAAa,SAAW,GAC1BW,GAER,CAAK,CACL,CAAG"}