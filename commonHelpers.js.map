{"version":3,"file":"commonHelpers.js","sources":["../src/js/books-api.js","../src/js/render-functions.js","../src/js/pop-up.js","../src/js/action-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = `https://books-backend.p.goit.global/books/`;\n\nconst headers = {\n  'Content-Type': 'application/json',\n  'Cache-Control': 'max-age=1300',\n};\n\nexport async function booksCategory() {\n  const END_POINT = 'category-list';\n  try {\n    const url = `${BASE_URL}${END_POINT}`;\n    const res = await axios.get(url, { headers });\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function topBooks() {\n  const END_POINT = 'top-books';\n  try {\n    const url = `${BASE_URL}${END_POINT}`;\n    const res = await axios.get(url, { headers });\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function booksByCategory(category) {\n  const END_POINT = `category?category=${category}`;\n  try {\n    const url = `${BASE_URL}${END_POINT}`;\n    const res = await axios.get(url, { headers });\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function booksID() {\n  const END_POINT = `bookId`;\n  try {\n    const url = `${BASE_URL}${END_POINT}`;\n    const res = await axios.get(url, { headers });\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { refs } from './refs';\n\nexport function categoriesTemplate(data) {\n  return data\n    .map(book => {\n      return `<li class=\"sidebar-categories-item\"><a class=\"sidebar-category-link\">\n   ${book.list_name}\n   </a>\n  </li>`;\n    })\n    .join('\\n');\n}\n\nexport function categoriesRender(data) {\n  const markup = categoriesTemplate(data);\n  refs.categories.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function topBooksCategoriesTemplate(data) {\n  return data\n    .map(({ list_name, books }) => {\n      let booksTemplate;\n\n      if (window.innerWidth >= 1440) {\n        booksTemplate = topBooksTemplate(books, list_name);\n      } else if (window.innerWidth >= 768) {\n        booksTemplate = topBooksTemplate(books.slice(0, 3), list_name);\n      } else {\n        booksTemplate = topBooksTemplate(books.slice(0, 1), list_name);\n      }\n\n      return `\n       \n      <div class=\"best-books-category\">\n\n          <p class=\"best-books-subtitle\">${list_name}</p>\n          <ul class=\"best-books-list\">\n            <li class=\"best-books-item\">${booksTemplate}</li>\n          </ul>\n          <div class=\"btn-see-more-wrap\">\n          <button class=\"btn-see-more\" type=\"button\" data-cat=\"${list_name}\">SEE MORE</button>\n        </div>\n          </div>\n      `;\n    })\n    .join('\\n');\n}\n\nexport function topBooksCategoriesRender(data) {\n  const markup = topBooksCategoriesTemplate(data);\n  refs.bestBooks.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function topBooksTemplate(data, filter) {\n  return data\n    .filter(({ list_name }) => list_name === filter)\n    .map(\n      ({ author, list_name, book_image, title, _id }) => `\n    <div class=\"best-books-wrap\" >\n      <div class=\"best-books-content\"  id=\"${_id}\">\n      <img class=\"best-books-image\" src=\"${book_image}\" alt=\"book\" loading=\"lazy\"/>\n      <p class=\"best-books-overlay-text\">quick view</p>\n    </div>\n    <h3 class=\"best-books-heading\">${title}</h3>\n    <p class=\"best-books-text\">${author}</p>\n    </div>\n  `\n    )\n    .join('\\n');\n}\n\nexport function clickAddClass(e) {\n  const target = e.target.closest('li');\n  if (!target || target === e.currentTarget) return;\n\n  refs.categoriesItems.forEach(elem => elem.classList.remove('sidebar-active'));\n  target.classList.add('sidebar-active');\n}\n\nexport function catLink(e) {\n  const categoryLink = e.target.closest('li');\n  if (categoryLink) return categoryLink.textContent.trim();\n}\n\nexport function catByBtn(e) {\n  if (e.target.classList.contains('btn-see-more')) {\n    const catByBtn = e.target.dataset.cat.trim();\n    refs.categoriesItems.forEach(elem => {\n      elem.classList.remove('sidebar-active');\n      if (elem.textContent.trim() === catByBtn)\n        elem.classList.add('sidebar-active');\n    });\n\n    return catByBtn;\n  }\n}\n\n// export function booksByCatTemplate(data) {\n//   return data\n//     .map(\n//       ({ author, list_name, book_image, title, _id }) => `\n//   <div class=\"hardcover-wrap\">\n//             <ul class=\"hardcover-list\" data-name=\"${list_name}\">\n//                 <li class=\"hardcover-item\" id=\"${_id}\">\n//                     <img class=\"hardcover-img\" src=\"${book_image}\" alt=\"card\">\n//                     <h3 class=\"hardcover-subtitle\">${title}</h3>\n//                        <p class=\"hardcover-descr\">${author}</p>\n//                 </li>\n//                 </ul>\n//                 </div>`\n//     )\n//     .join('\\n');\n// }\nexport function booksByCatTemplate(data) {\n  // booksToClick.concat(data);\n  // console.log(booksToClick);\n\n  return `\n  <div class=\"hardcover-wrap\">\n    <ul class=\"hardcover-list\">\n      ${data\n        .map(\n          ({ author, list_name, book_image, title, _id }) => `\n          <li class=\"hardcover-item\" id=\"${_id}\">\n          <div class=\"hardcover-books-content\">\n          <img class=\"hardcover-img\" src=\"${book_image}\" alt=\"card\" loading=\"lazy\">\n          <p class=\"hardcover-books-overlay-text\">quick view</p>\n          </div>\n            \n            <h3 class=\"hardcover-subtitle\">${title}</h3>\n            <p class=\"hardcover-descr\">${author}</p>\n          </li>\n        `\n        )\n        .join('\\n')}\n    </ul>\n  </div>\n  `;\n}\n\nexport function booksByCatRender(data) {\n  const markup = booksByCatTemplate(data);\n  refs.bestBooks.innerHTML = markup;\n}\n\nexport function addCategoryTitle(category) {\n  if (!category) return;\n  let title;\n  if (category === 'All categories') {\n    title = `<h1 class=\"best-books-title\">\n    Best Sellers<span class=\"best-books-title-colour\"> Books</span>\n  </h1>`;\n    refs.categoryTitle.innerHTML = title;\n  } else {\n    const titleWords = category.split(' ');\n    const lastWord = titleWords.slice(-1);\n    const firstWords = titleWords.slice(0, -1);\n    title = `<h1 class=\"best-books-title\">${firstWords.join(\n      ' '\n    )} <span class=\"best-books-title-colour\">${lastWord.join(' ')}</span></h1>`;\n    refs.categoryTitle.innerHTML = title;\n  }\n}\n","import '../css/pop-up.css';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport {\n  shoppingListhasBook,\n  addToShoppingList,\n  removeFromShoppingList,\n} from './shopping-list-functions';\n\nexport function bindPopUps(books) {\n  books.forEach(book => {\n    const bookElement = document.getElementById(book._id);\n    if (!bookElement) {\n      return;\n    }\n    bookElement.addEventListener('click', e => {\n      e.preventDefault();\n\n      function showPopUp(book) {\n        const instance = basicLightbox.create(\n          `\n          <div class=\"modal\">\n            <button class=\"modal-close-btn\" type=\"button\">\n            <svg class=\"modal-close-svg\" width=\"16\" height=\"16\">\n              <use href=\"./img/icons.svg#icon-close\"></use>\n            </svg>\n            </button>\n                            <div class=\"pop-up-card-wrap\">\n                              <img class=\"pop-up-book-cover\" src=\"${\n                                book.book_image\n                              }\" alt=\"cover\">\n                                  <div class=\"pop-up-card-top-line\">\n                                          <h2 class=\"pop-up-book-title\">${\n                                            book.title\n                                          }</h2>\n                                          <p class=\"pop-up-book-author\">${\n                                            book.author\n                                          }</p>\n                                          <p class=\"pop-up-book-description\">${\n                                            book.description\n                                          }</p>\n                                      <div class=\"pop-up-card-bottom-line\">\n                                          <ul class=\"pop-up-buy-links\">\n                                              <li class=\"pop-up-buy-link-item\">\n                                                  <a rel=\"noreferrer noopener nofollow\" class=\"shopping-list-buy-link\" href=\"${\n                                                    book.buy_links[0].url\n                                                  }\" target=\"_blank\">\n                                                  <svg width=\"32\" height=\"11\" class=\"pop-up-buy-link-amazon\" alt=\"logo-amazon\">\n                                              <use href=\"./img/icons.svg#icon-amazon-1\"></use>\n                                          </svg>   \n                                                  </a>\n                                              </li>\n                                              <li class=\"shopping-list-buy-link-item\">\n                                                  <a rel=\"noreferrer noopener nofollow\" class=\"pop-up-buy-link\" href=\"${\n                                                    book.buy_links[1].url\n                                                  } \" target=\"_blank\">\n                                                  <svg width=\"16\" height=\"16\" class=\"pop-up-buy-link-applebooks\" alt=\"logo-apple-books\">\n                                              <use href=\"./img/icons.svg#icon-apple-ibooks\"></use>\n                                          </svg>    \n                                                  </a>\n                                              </li>\n                                          </ul>\n                                      </div>\n                                 </div>\n                                 </div>\n                            \n            <button data-id=\"${\n              book._id\n            }\" type=\"button\" class=\"add-to-sl-button\">${\n            shoppingListhasBook(book._id)\n              ? 'Remove from the shopping list'\n              : 'Add to shopping list'\n          }</button>\n            <p class='book-added-text'>Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n            \n          </div>\n        `,\n          {\n            onShow: () => {\n              document.addEventListener('keydown', onModalClose);\n            },\n            onClose: () => {\n              document.body.style.overflow = 'auto';\n              document.removeEventListener('keydown', onModalClose);\n            },\n          }\n        );\n\n        instance.show();\n\n        document.body.style.overflow = 'hidden';\n\n        function onModalClose(e) {\n          if (e.code === 'Escape') {\n            instance.close();\n          }\n        }\n\n        document\n          .querySelector('.modal-close-btn')\n          .addEventListener('click', e => {\n            instance.close();\n          });\n      }\n\n      showPopUp(book);\n\n      document\n        .querySelector('.add-to-sl-button')\n        .addEventListener('click', e => {\n          if (shoppingListhasBook(book._id)) {\n            removeFromShoppingList(book._id);\n            document.querySelector('.book-added-text').style.display = 'none';\n            document.querySelector('.add-to-sl-button').textContent =\n              'Add to shopping list';\n          } else {\n            addToShoppingList(book);\n            document.querySelector('.book-added-text').style.display = 'block';\n            document.querySelector('.add-to-sl-button').textContent =\n              'Remove from the shopping list';\n          }\n        });\n    });\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { booksCategory, topBooks, booksByCategory, booksID } from './books-api';\nimport {\n  categoriesRender,\n  topBooksCategoriesRender,\n  clickAddClass,\n  catLink,\n  booksByCatRender,\n  catByBtn,\n  addCategoryTitle,\n} from './render-functions';\nimport { refs } from './refs';\nimport { bindPopUps } from './pop-up';\n\nexport async function onPageLoad() {\n  refs.loader.classList.remove('hidden');\n  refs.loader1.classList.remove('hidden');\n\n  try {\n    const data = await booksCategory();\n    const topBooksResponse = await topBooks();\n    categoriesRender(data);\n    topBooksCategoriesRender(topBooksResponse);\n    refs.loader.classList.add('hidden');\n    refs.loader1.classList.add('hidden');\n    // console.log('on page load');\n    let books = topBooksResponse\n      .flatMap(category => {\n        return category.books;\n      })\n      .filter((book, index, self) => {\n        return self.indexOf(book) === index;\n      });\n    bindPopUps(books);\n  } catch (err) {\n    errNotify(err);\n  }\n\n  refs.oneCategory = document.querySelector('.sidebar-category-link');\n  refs.categoriesItems = document.querySelectorAll('.sidebar-categories-item');\n  refs.allCategories.classList.add('sidebar-active');\n  refs.categories.addEventListener('click', onCategoriesClick);\n  // refs.seeMoreBtn.addEventListener('click', onSeeMoreClick);\n  document.querySelectorAll('.btn-see-more').forEach(btn => {\n    btn.addEventListener('click', onSeeMoreClick);\n  });\n}\n\nasync function onSeeMoreClick(e) {\n  refs.loader1.classList.remove('hidden');\n  try {\n    const booksByCat = await booksByCategory(catByBtn(e));\n\n    booksByCatRender(booksByCat);\n    addCategoryTitle(catByBtn(e));\n    refs.loader1.classList.add('hidden');\n    refs.scrollToEl.scrollIntoView({\n      behavior: 'smooth',\n    });\n\n    bindPopUps(booksByCat);\n  } catch (err) {\n    errNotify(err);\n  }\n}\n\nasync function onCategoriesClick(e) {\n  if (catLink(e) === undefined) return;\n  refs.loader.classList.remove('hidden');\n\n  try {\n    const booksByCat = await booksByCategory(catLink(e));\n\n    if (catLink(e) === 'All categories') {\n      onPageLoad();\n    }\n\n    booksByCatRender(booksByCat);\n    addCategoryTitle(catLink(e));\n    clickAddClass(e);\n    refs.loader.classList.add('hidden');\n    if (window.innerWidth < 1440)\n      refs.scrollToEl.scrollIntoView({\n        behavior: 'smooth',\n      });\n\n    bindPopUps(booksByCat);\n  } catch (err) {\n    errNotify(err);\n  }\n}\n\nexport function errNotify(err) {\n  iziToast.warning({\n    title: 'Caution',\n    message: `Error: ${err}`,\n    position: 'topRight',\n  });\n  throw err;\n}\n\nexport function scrollTop() {\n  window.addEventListener('scroll', onScrollShowBtn);\n  let prevScrollPos = window.pageYOffset;\n\n  function onScrollShowBtn() {\n    window.scrollY > 200\n      ? refs.btnToTop.classList.add('show')\n      : refs.btnToTop.classList.remove('show');\n\n    const currentScrollPos = window.pageYOffset;\n\n    if (prevScrollPos > currentScrollPos) {\n      document.querySelector('.header-container').style.top = '0';\n    } else {\n      document.querySelector('.header-container').style.top = '-118px';\n    }\n\n    prevScrollPos = currentScrollPos;\n  }\n\n  refs.btnToTop.addEventListener('click', onClickGoTop);\n\n  function onClickGoTop() {\n    if (window.scrollY != 0) {\n      setTimeout(function () {\n        window.scrollTo(0, window.scrollY - 70);\n        onClickGoTop();\n      }, 10);\n    }\n  }\n}\n","import './js/action-functions';\nimport { onPageLoad, scrollTop } from './js/action-functions';\n\nimport './js/header';\nimport './js/color-toggle';\nimport './js/support-ukraine';\nimport './js/check-page';\n// import './js/modal-form-sing-up';\n\n// console.log('main');\nonPageLoad();\nscrollTop();\n"],"names":["BASE_URL","headers","booksCategory","END_POINT","url","axios","error","topBooks","booksByCategory","category","categoriesTemplate","data","book","categoriesRender","markup","refs","topBooksCategoriesTemplate","list_name","books","booksTemplate","topBooksTemplate","topBooksCategoriesRender","filter","author","book_image","title","_id","clickAddClass","target","elem","catLink","categoryLink","catByBtn","booksByCatTemplate","booksByCatRender","addCategoryTitle","titleWords","lastWord","bindPopUps","bookElement","e","showPopUp","instance","basicLightbox.create","shoppingListhasBook","onModalClose","removeFromShoppingList","addToShoppingList","onPageLoad","topBooksResponse","index","self","err","errNotify","onCategoriesClick","btn","onSeeMoreClick","booksByCat","iziToast","scrollTop","onScrollShowBtn","prevScrollPos","currentScrollPos","onClickGoTop"],"mappings":"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"}